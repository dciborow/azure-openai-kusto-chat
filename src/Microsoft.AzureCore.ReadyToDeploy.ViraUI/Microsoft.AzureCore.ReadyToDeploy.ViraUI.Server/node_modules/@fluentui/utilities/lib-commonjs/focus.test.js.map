{"version":3,"file":"focus.test.js","sourceRoot":"../src/","sources":["focus.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createTestContainer } from '@fluentui/test-utilities';\n\nimport {\n  isElementVisible,\n  isElementTabbable,\n  focusAsync,\n  getElementIndexPath,\n  getFirstTabbable,\n  getFocusableByIndexPath,\n  getLastTabbable,\n} from './focus';\n\nfunction renderIntoDocument(element: React.ReactElement<{}>, container: HTMLElement): HTMLElement {\n  const component = ReactDOM.render(element, container) as React.ReactInstance;\n  const renderedDOM = ReactDOM.findDOMNode(component) as HTMLElement;\n\n  return renderedDOM;\n}\n\n// JSDOM does not currently set `delegatesFocus`\n// https://github.com/jsdom/jsdom/blob/b7683ed68ebe259cd2c68e5faf12d484a785f45f/lib/jsdom/living/nodes/Element-impl.js#L420-L424\nfunction createDivWithShadowRoot(initOptions: ShadowRootInit): HTMLElement {\n  const div = {\n    getAttribute: (qualifiedName: string): string | null => null,\n    shadowRoot: {\n      mode: initOptions.mode,\n      delegatesFocus: initOptions.delegatesFocus,\n    },\n  };\n\n  return div as HTMLElement;\n}\n\nfunction makeShadowDiv(innerHTML: string): React.FC {\n  const ShadowDiv = () => {\n    const setRef = (node: HTMLElement | null) => {\n      if (node) {\n        node.attachShadow({ mode: 'open' });\n        node.shadowRoot!.innerHTML = innerHTML;\n      }\n    };\n\n    return <div className=\"parent\" ref={setRef} />;\n  };\n\n  return ShadowDiv;\n}\n\ndescribe('isElementVisible', () => {\n  let testContainer: HTMLElement | undefined;\n\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('returns false if data-is-visible is false', () => {\n    testContainer = createTestContainer();\n\n    const _hiddenElement = renderIntoDocument(\n      <div data-is-visible={false}>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    expect(isElementVisible(_hiddenElement)).toEqual(false);\n  });\n\n  it('returns true if data-is-visible is true', () => {\n    testContainer = createTestContainer();\n    const _visibleElement = renderIntoDocument(\n      <div data-is-visible={true}>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    expect(isElementVisible(_visibleElement)).toEqual(true);\n  });\n\n  it('returns true if data-is-visible is undefined but element is visible', () => {\n    testContainer = createTestContainer();\n\n    const _element = renderIntoDocument(\n      <div>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (_element as any).isVisible = true;\n\n    expect(isElementVisible(_element)).toEqual(true);\n  });\n});\n\ndescribe('isElementTabbable', () => {\n  it('returns false on null', () => {\n    expect(isElementVisible(null)).toEqual(false);\n  });\n\n  it('returns false on normal divs', () => {\n    let div = document.createElement('div');\n\n    expect(isElementTabbable(div)).toEqual(false);\n  });\n\n  it('returns false on disabled buttons', () => {\n    let button = document.createElement('button');\n\n    button.setAttribute('disabled', 'true');\n\n    expect(isElementTabbable(button)).toEqual(false);\n  });\n\n  it('returns true on buttons', () => {\n    let button = document.createElement('button');\n\n    expect(isElementTabbable(button)).toEqual(true);\n  });\n\n  it('returns true on anchors', () => {\n    let anchor = document.createElement('a');\n\n    expect(isElementTabbable(anchor)).toEqual(true);\n  });\n\n  it('returns true on input elements', () => {\n    let input = document.createElement('input');\n\n    expect(isElementTabbable(input)).toEqual(true);\n  });\n\n  it('returns true on select elements', () => {\n    let select = document.createElement('select');\n\n    expect(isElementTabbable(select)).toEqual(true);\n  });\n\n  it('returns true on textarea elements', () => {\n    let textarea = document.createElement('textarea');\n\n    expect(isElementTabbable(textarea)).toEqual(true);\n  });\n\n  it('works with tabbable divs', () => {\n    let div = document.createElement('div');\n\n    div.tabIndex = 0;\n\n    expect(isElementTabbable(div)).toEqual(true);\n  });\n\n  it('returns false with role=button divs', () => {\n    let div = document.createElement('div');\n\n    div.setAttribute('role', 'button');\n\n    expect(isElementTabbable(div)).toEqual(false);\n  });\n\n  it('returns false with role=button disabled buttons', () => {\n    let button = document.createElement('button');\n\n    button.setAttribute('role', 'button');\n    button.setAttribute('disabled', 'true');\n\n    expect(isElementTabbable(button)).toEqual(false);\n  });\n\n  it('returns false with -1 tabIndex', () => {\n    let button = document.createElement('button');\n\n    button.tabIndex = -1;\n\n    expect(isElementTabbable(button, true)).toEqual(false);\n  });\n\n  it('returns true for elements with shadowRoot.delegatesFocus=true', () => {\n    const div = createDivWithShadowRoot({ mode: 'open', delegatesFocus: true });\n\n    expect(div.shadowRoot?.delegatesFocus).toEqual(true);\n    expect(isElementTabbable(div)).toEqual(true);\n  });\n\n  it('returns true for elements with shadowRoot.delegatesFocus=false', () => {\n    const div = createDivWithShadowRoot({ mode: 'open' });\n\n    expect(isElementTabbable(div)).toEqual(false);\n  });\n\n  it('returns true for elements with shadowRoot.delegatesFocus=true when set to ignore shadow roots', () => {\n    const div = createDivWithShadowRoot({ mode: 'open', delegatesFocus: true });\n\n    expect(isElementTabbable(div, undefined, false)).toEqual(false);\n  });\n});\n\ndescribe('focusAsync', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  beforeAll(() => {\n    jest.useFakeTimers();\n  });\n\n  afterAll(() => {\n    jest.useRealTimers();\n  });\n\n  it('focuses on an item on the next frame', () => {\n    testContainer = createTestContainer();\n\n    const container = renderIntoDocument(\n      <div>\n        <button className=\"a\">a</button>\n        <button className=\"b\">b</button>\n        <button className=\"c\">c</button>\n      </div>,\n      testContainer,\n    );\n\n    const buttonA = container.querySelector('.a') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    // Focus the first button.\n    focusAsync(buttonA);\n    window.requestAnimationFrame(() => {\n      expect(container.ownerDocument!.activeElement).toBe(buttonA);\n\n      // Focus the second button, then the third before the next frame\n      focusAsync(buttonB);\n      focusAsync(buttonC);\n      window.requestAnimationFrame(() => {\n        expect(container.ownerDocument!.activeElement).toBe(buttonC);\n      });\n    });\n\n    jest.runAllTimers();\n  });\n\n  it('can focus a component which implements focus()', () => {\n    let calledFocus = false;\n    const fakeComponent = {\n      ownerDocument: {},\n      focus: () => (calledFocus = true),\n    };\n\n    focusAsync(fakeComponent);\n    jest.runAllTimers();\n    expect(calledFocus).toEqual(true);\n  });\n});\n\ndescribe('getFocusableByIndexPath', () => {\n  it('can recover a path', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <div></div>\n        <div></div>\n        <div>\n          <div></div>\n          <button id='child' data-is-visible='true' />\n        </div>\n      </div>\n    `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 2, 1])).toEqual(child);\n  });\n\n  it('ignores hidden elements', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <div></div>\n        <div></div>\n        <div>\n          <div></div>\n          <button id='child' data-is-visible='false' />\n        </div>\n      </div>\n    `;\n\n    parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 2, 1])).toEqual(null);\n  });\n\n  it('can fallback to a previous element', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <button id='child' data-is-visible='true'>\n          <div>\n            <div/>\n          </div>\n        </button>\n      </div>\n    `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 0, 0, 0, 0, 0])).toEqual(child);\n  });\n});\n\ndescribe('getElementIndexPath', () => {\n  it('can get a path', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n        <div>\n          <div></div>\n          <div></div>\n          <div>\n            <div></div>\n            <div id='child'></div>\n          </div>\n        </div>\n      `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getElementIndexPath(parent, child)).toEqual([0, 2, 1]);\n  });\n\n  it('can handle the same element', () => {\n    const parent = document.createElement('div');\n\n    expect(getElementIndexPath(parent, parent)).toEqual([]);\n  });\n});\n\ndescribe('getFirstTabbable', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('focuses on the next tabbable item', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonA = container.querySelector('.a') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n\n    expect(getFirstTabbable(parent, buttonA, true, false)).toEqual(buttonB);\n  });\n\n  it('focuses on the next tabbable item in shadow DOM', () => {\n    testContainer = createTestContainer();\n\n    const innerHTML = `\n    <button class=\"a\" data-is-visible=\"true\">\n      a\n    </button>\n    <button class=\"b\" data-is-visible=\"true\">\n      b\n    </button>\n    <button class=\"c\" data-is-visible=\"true\">\n      c\n    </button>\n    `;\n    const ShadowDiv = makeShadowDiv(innerHTML);\n\n    const container = renderIntoDocument(\n      <div>\n        <ShadowDiv />\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonA = parent?.shadowRoot?.querySelector('.a') as HTMLElement;\n    const buttonB = parent?.shadowRoot?.querySelector('.b') as HTMLElement;\n\n    expect(getFirstTabbable(parent, buttonA, true, false, true)).toEqual(buttonB);\n  });\n\n  it('does not focus on an item with tabIndex of -1', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true} tabIndex={-1}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true} tabIndex={-1}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true} tabIndex={-1}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonA = container.querySelector('.a') as HTMLElement;\n\n    expect(getFirstTabbable(parent, buttonA, true, false)).toEqual(null);\n  });\n});\n\ndescribe('getLastTabbable', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('focuses on the last tabbable item', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    expect(getLastTabbable(parent, buttonC, true, false)).toEqual(buttonB);\n  });\n\n  it('focuses on the last tabbable item in shadow DOM', () => {\n    testContainer = createTestContainer();\n\n    const innerHTML = `\n    <button class=\"a\" data-is-visible=\"true\">\n      a\n    </button>\n    <button class=\"b\" data-is-visible=\"true\">\n      b\n    </button>\n    <button class=\"c\" data-is-visible=\"true\">\n      c\n    </button>\n    `;\n    const ShadowDiv = makeShadowDiv(innerHTML);\n\n    const container = renderIntoDocument(\n      <div>\n        <ShadowDiv />\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonB = parent?.shadowRoot?.querySelector('.b') as HTMLElement;\n    const buttonC = parent?.shadowRoot?.querySelector('.c') as HTMLElement;\n\n    expect(getLastTabbable(parent, buttonC, true, false, true)).toEqual(buttonB);\n  });\n\n  it('does not focus on an item with tabIndex of -1', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true} tabIndex={-1}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true} tabIndex={-1}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true} tabIndex={-1}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    expect(getLastTabbable(parent, buttonC, true, false)).toEqual(null);\n  });\n});\n"]}