{"version":3,"file":"classNamesFunction.test.js","sourceRoot":"../src/","sources":["classNamesFunction.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { Stylesheet } from '@fluentui/merge-styles';\nimport { classNamesFunction } from './classNamesFunction';\nimport { getRTL, setRTL } from './rtl';\nimport type { IStyle } from '@fluentui/merge-styles';\n\ndescribe('classNamesFunction', () => {\n  beforeEach(() => {\n    Stylesheet.getInstance().reset();\n    Stylesheet.getInstance().setConfig({\n      onInsertRule: () => {\n        /*no-op*/\n      },\n    });\n  });\n\n  afterEach(() => {\n    Stylesheet.getInstance().setConfig({\n      onInsertRule: undefined,\n    });\n  });\n\n  it('can cache rules', () => {\n    let styleFunction1Called = false;\n    let styleFunction2Called = false;\n    const getClassNames = classNamesFunction<{ a: number; b: string }, { root: IStyle }>();\n    const getStyles1 = (props: { a: number; b: string }) => {\n      styleFunction1Called = true;\n      return {\n        root: { width: props.a },\n      };\n    };\n\n    const getStyles2 = (props: { a: number; b: string }) => {\n      styleFunction2Called = true;\n      return {\n        root: { height: props.a },\n      };\n    };\n\n    const classNames1 = getClassNames(getStyles1, { a: 1, b: 'test' });\n    const classNames2 = getClassNames(getStyles2, { a: 1, b: 'test' });\n    expect(styleFunction1Called).toEqual(true);\n    expect(styleFunction2Called).toEqual(true);\n    styleFunction1Called = false;\n    styleFunction2Called = false;\n\n    expect(getClassNames(getStyles1, { a: 1, b: 'test' })).toEqual(classNames1);\n    expect(styleFunction1Called).toEqual(false);\n\n    expect(getClassNames(getStyles2, { a: 1, b: 'test' })).toEqual(classNames2);\n    expect(styleFunction2Called).toEqual(false);\n\n    expect(getClassNames(getStyles1, { a: 2, b: 'test' })).not.toEqual(classNames1);\n    expect(styleFunction1Called).toEqual(true);\n    styleFunction1Called = false;\n\n    getClassNames(getStyles1, { a: 2, b: 'test' });\n    expect(styleFunction1Called).toEqual(false);\n  });\n\n  describe('ltr/rtl from theme', () => {\n    let originalRtl: boolean;\n    let setRule: string;\n\n    beforeEach(() => {\n      Stylesheet.getInstance().setConfig({\n        onInsertRule: (rule: string) => {\n          setRule = rule;\n        },\n      });\n    });\n\n    beforeEach(() => (originalRtl = getRTL()));\n    afterEach(() => setRTL(originalRtl));\n\n    const getClassNames = classNamesFunction<{ theme: {} }, { root: IStyle }>();\n    const getStyles = () => {\n      return {\n        root: { left: 1 },\n      };\n    };\n\n    it('renders rtl if specified in theme', () => {\n      setRTL(false);\n      getClassNames(getStyles, { theme: { rtl: true } });\n      expect(setRule).toEqual('.root-0{right:1px;}');\n    });\n\n    it('renders ltr if specified in theme', () => {\n      setRTL(true);\n      getClassNames(getStyles, { theme: { rtl: false } });\n      expect(setRule).toEqual('.root-0{left:1px;}');\n    });\n  });\n});\n"]}