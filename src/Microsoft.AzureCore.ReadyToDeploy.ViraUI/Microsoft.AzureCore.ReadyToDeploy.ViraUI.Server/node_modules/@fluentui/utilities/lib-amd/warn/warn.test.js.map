{"version":3,"file":"warn.test.js","sourceRoot":"../src/","sources":["warn/warn.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { setWarningCallback } from './warn';\nimport { warnConditionallyRequiredProps } from './warnConditionallyRequiredProps';\nimport { warnMutuallyExclusive } from './warnMutuallyExclusive';\nimport { warnDeprecations } from './warnDeprecations';\n\nconst warningCallback = jest.fn();\n\nfunction sharedBeforeEach(): void {\n  setWarningCallback(warningCallback);\n}\n\nfunction sharedAfterEach(): void {\n  warningCallback.mockReset();\n  setWarningCallback(undefined);\n}\n\ndescribe('warnDeprecations', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnDeprecations('Foo', { bar: 1 }, { foo: null } as any);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on a deprecated prop', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnDeprecations('Foo', { foo: 1 }, { foo: null } as any);\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(`Foo property 'foo' was used but has been deprecated.`);\n  });\n\n  it('can warn on a deprecated prop with replacement', () => {\n    warnDeprecations('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' was used but has been deprecated. Use 'bar' instead.`,\n    );\n  });\n});\n\ndescribe('warnMutuallyExclusive', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    warnMutuallyExclusive('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the key of the exclusive map is explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: undefined, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the matching prop of the exclusive map key is explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: undefined }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when both of them are explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: undefined, bar: undefined }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the key of the exclusive map is implicitly undefined', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnMutuallyExclusive('Foo', { bar: 1 }, { foo: 'bar' } as any);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the matching prop of the exclusive map is implicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when both of the props are implicitly undefined ', () => {\n    warnMutuallyExclusive('Foo', {}, {});\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on mutual exclusive props', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if the exclusive props with the key in the map is null', () => {\n    warnMutuallyExclusive('Foo', { foo: null, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if the matching key in exclusive map is null', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: null }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if both of the props are null', () => {\n    warnMutuallyExclusive('Foo', { foo: null, bar: null }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n});\n\ndescribe('warnConditionallyRequiredProps', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    warnConditionallyRequiredProps('Foo', { foo: 1, bar: 1 }, ['foo', 'bar'], 'foo', true);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on required props', () => {\n    warnConditionallyRequiredProps('Foo', { foo: 1 }, ['foo', 'bar'], 'foo', true);\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(`Foo property 'bar' is required when 'foo' is used.'`);\n  });\n});\n"]}