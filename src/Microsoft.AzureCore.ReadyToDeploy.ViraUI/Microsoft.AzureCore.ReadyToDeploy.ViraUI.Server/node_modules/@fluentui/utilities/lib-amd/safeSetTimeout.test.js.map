{"version":3,"file":"safeSetTimeout.test.js","sourceRoot":"../src/","sources":["safeSetTimeout.test.tsx"],"names":[],"mappings":";;;IAIA,QAAQ,CAAC,gBAAgB,EAAE;QACzB,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAE7B;YAAkB,+BAAe;YAG/B,aAAY,KAAS;gBAArB,YACE,kBAAM,KAAK,CAAC,SACb;gBAJO,iBAAW,GAAG,IAAA,+BAAc,EAAC,KAAI,CAAC,CAAC;;YAI3C,CAAC;YAEM,oBAAM,GAAb;gBACE,OAAO,yCAAgB,CAAC;YAC1B,CAAC;YAEM,+BAAiB,GAAxB;gBACE,IAAI,CAAC,WAAW,CAAC,cAAM,OAAA,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAzB,CAAyB,EAAE,CAAC,CAAC,CAAC;YACvD,CAAC;YACH,UAAC;QAAD,CAAC,AAdD,CAAkB,KAAK,CAAC,SAAS,GAchC;QAED,UAAU,CAAC;YACT,gBAAgB,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC;YACR,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE;YAChC,IAAA,cAAK,EAAC,oBAAC,GAAG,OAAG,CAAC,CAAC;YAEf,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAExC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;YAE9B,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oCAAoC,EAAE;YACvC,IAAM,OAAO,GAAG,IAAA,cAAK,EAAC,oBAAC,GAAG,OAAG,CAAC,CAAC;YAE/B,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAExC,OAAO,CAAC,OAAO,EAAE,CAAC;YAElB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;YAE9B,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport { safeSetTimeout } from './safeSetTimeout';\nimport { mount } from 'enzyme';\n\ndescribe('safeSetTimeout', () => {\n  let setTimeoutCalled = false;\n\n  class Foo extends React.Component {\n    private _setTimeout = safeSetTimeout(this);\n\n    constructor(props: {}) {\n      super(props);\n    }\n\n    public render(): JSX.Element {\n      return <div>Hello</div>;\n    }\n\n    public componentDidMount(): void {\n      this._setTimeout(() => (setTimeoutCalled = true), 0);\n    }\n  }\n\n  beforeEach(() => {\n    setTimeoutCalled = false;\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  it('can request animation frame', () => {\n    mount(<Foo />);\n\n    expect(setTimeoutCalled).toEqual(false);\n\n    jest.advanceTimersByTime(100);\n\n    expect(setTimeoutCalled).toEqual(true);\n  });\n\n  it('can cancel request animation frame', () => {\n    const wrapper = mount(<Foo />);\n\n    expect(setTimeoutCalled).toEqual(false);\n\n    wrapper.unmount();\n\n    jest.advanceTimersByTime(100);\n\n    expect(setTimeoutCalled).toEqual(false);\n  });\n});\n"]}