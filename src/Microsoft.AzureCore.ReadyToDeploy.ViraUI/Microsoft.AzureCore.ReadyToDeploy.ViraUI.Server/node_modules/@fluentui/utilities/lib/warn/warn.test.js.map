{"version":3,"file":"warn.test.js","sourceRoot":"../src/","sources":["warn/warn.test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,QAAQ,CAAC;AAC5C,OAAO,EAAE,8BAA8B,EAAE,MAAM,kCAAkC,CAAC;AAClF,OAAO,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;AAChE,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAEtD,IAAM,eAAe,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;AAElC,SAAS,gBAAgB;IACvB,kBAAkB,CAAC,eAAe,CAAC,CAAC;AACtC,CAAC;AAED,SAAS,eAAe;IACtB,eAAe,CAAC,SAAS,EAAE,CAAC;IAC5B,kBAAkB,CAAC,SAAS,CAAC,CAAC;AAChC,CAAC;AAED,QAAQ,CAAC,kBAAkB,EAAE;IAC3B,UAAU,CAAC,gBAAgB,CAAC,CAAC;IAC7B,SAAS,CAAC,eAAe,CAAC,CAAC;IAE3B,EAAE,CAAC,gCAAgC,EAAE;QACnC,8DAA8D;QAC9D,gBAAgB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAS,CAAC,CAAC;QAC1D,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+BAA+B,EAAE;QAClC,8DAA8D;QAC9D,gBAAgB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAS,CAAC,CAAC;QAC1D,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAAC,sDAAsD,CAAC,CAAC;IAC3G,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gDAAgD,EAAE;QACnD,gBAAgB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACpD,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAC9C,yEAAyE,CAC1E,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,uBAAuB,EAAE;IAChC,UAAU,CAAC,gBAAgB,CAAC,CAAC;IAC7B,SAAS,CAAC,eAAe,CAAC,CAAC;IAE3B,EAAE,CAAC,gCAAgC,EAAE;QACnC,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uFAAuF,EAAE;QAC1F,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qGAAqG,EAAE;QACxG,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wEAAwE,EAAE;QAC3E,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACjF,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uFAAuF,EAAE;QAC1F,8DAA8D;QAC9D,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAS,CAAC,CAAC;QAChE,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,iGAAiG,EAAE;QACpG,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8EAA8E,EAAE;QACjF,qBAAqB,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oCAAoC,EAAE;QACvC,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACjE,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAC9C,4EAA4E,CAC7E,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,iEAAiE,EAAE;QACpE,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACpE,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAC9C,4EAA4E,CAC7E,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uDAAuD,EAAE;QAC1D,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACpE,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAC9C,4EAA4E,CAC7E,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wCAAwC,EAAE;QAC3C,qBAAqB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;QACvE,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAC9C,4EAA4E,CAC7E,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,gCAAgC,EAAE;IACzC,UAAU,CAAC,gBAAgB,CAAC,CAAC;IAC7B,SAAS,CAAC,eAAe,CAAC,CAAC;IAE3B,EAAE,CAAC,gCAAgC,EAAE;QACnC,8BAA8B,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QACvF,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,4BAA4B,EAAE;QAC/B,8BAA8B,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAC/E,MAAM,CAAC,eAAe,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,CAAC,eAAe,CAAC,CAAC,wBAAwB,CAAC,qDAAqD,CAAC,CAAC;IAC1G,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { setWarningCallback } from './warn';\nimport { warnConditionallyRequiredProps } from './warnConditionallyRequiredProps';\nimport { warnMutuallyExclusive } from './warnMutuallyExclusive';\nimport { warnDeprecations } from './warnDeprecations';\n\nconst warningCallback = jest.fn();\n\nfunction sharedBeforeEach(): void {\n  setWarningCallback(warningCallback);\n}\n\nfunction sharedAfterEach(): void {\n  warningCallback.mockReset();\n  setWarningCallback(undefined);\n}\n\ndescribe('warnDeprecations', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnDeprecations('Foo', { bar: 1 }, { foo: null } as any);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on a deprecated prop', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnDeprecations('Foo', { foo: 1 }, { foo: null } as any);\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(`Foo property 'foo' was used but has been deprecated.`);\n  });\n\n  it('can warn on a deprecated prop with replacement', () => {\n    warnDeprecations('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' was used but has been deprecated. Use 'bar' instead.`,\n    );\n  });\n});\n\ndescribe('warnMutuallyExclusive', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    warnMutuallyExclusive('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the key of the exclusive map is explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: undefined, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the matching prop of the exclusive map key is explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: undefined }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when both of them are explicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: undefined, bar: undefined }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the key of the exclusive map is implicitly undefined', () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warnMutuallyExclusive('Foo', { bar: 1 }, { foo: 'bar' } as any);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when the matching prop of the exclusive map is implicitly undefined', () => {\n    warnMutuallyExclusive('Foo', { foo: 1 }, { foo: 'bar' });\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('does not warn unnecessarily when both of the props are implicitly undefined ', () => {\n    warnMutuallyExclusive('Foo', {}, {});\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on mutual exclusive props', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if the exclusive props with the key in the map is null', () => {\n    warnMutuallyExclusive('Foo', { foo: null, bar: 1 }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if the matching key in exclusive map is null', () => {\n    warnMutuallyExclusive('Foo', { foo: 1, bar: null }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n\n  it('can warn if both of the props are null', () => {\n    warnMutuallyExclusive('Foo', { foo: null, bar: null }, { foo: 'bar' });\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(\n      `Foo property 'foo' is mutually exclusive with 'bar'. Use one or the other.`,\n    );\n  });\n});\n\ndescribe('warnConditionallyRequiredProps', () => {\n  beforeEach(sharedBeforeEach);\n  afterEach(sharedAfterEach);\n\n  it('does not warn when unnecessary', () => {\n    warnConditionallyRequiredProps('Foo', { foo: 1, bar: 1 }, ['foo', 'bar'], 'foo', true);\n    expect(warningCallback).not.toHaveBeenCalled();\n  });\n\n  it('can warn on required props', () => {\n    warnConditionallyRequiredProps('Foo', { foo: 1 }, ['foo', 'bar'], 'foo', true);\n    expect(warningCallback).toHaveBeenCalledTimes(1);\n    expect(warningCallback).toHaveBeenLastCalledWith(`Foo property 'bar' is required when 'foo' is used.'`);\n  });\n});\n"]}